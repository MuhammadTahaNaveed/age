name: Create production promotion pull request
on:
  issue_comment:                                     
    types: [created]

jobs:
  TriggerOnComment:
    if: ${{ github.event.issue.pull_request }}    # check if the comments come from pull request, exclude those from issue.
    runs-on: ubuntu-latest

    steps:
      - name: say hello
        if: contains('["/sync"]', github.event.comment.body)      # check the comment if it contains the keywords
        # if: contains(['MuhammadTahaNaveed'], 'github.actor')
        run: |
          echo started automating PRs

  # productionPromotion:
  #   needs: TriggerOnComment
  #   runs-on: ubuntu-latest

  #   steps:
  #     - uses: actions/checkout@v3
  #       with:
  #         ref: PG15
  #     - name: Reset promotion branch
  #       run: |
  #         git fetch origin auto-sync-pr
  #         git reset --hard origin/auto-sync-pr
  #     - name: Create Pull Request
  #       uses: peter-evans/create-pull-request@v5
  #       with:
  #         branch: apply-pr