name: Check and Print Labels

on:
  pull_request:
    types: [labeled]

jobs:
  tweet:
    if: >-
      (
        contains('["MuhammadTahaNaveed", "ha-ha-ha-haa"]', github.actor) &&
        contains(github.event.label.name, 'auto-create')
      )
    runs-on: ubuntu-latest
    steps:
      - name: Print GitHub Event
        run: |
          echo "${{ toJson(github.event) }}"

      - name: Print branch
        run: |
          label="${{ github.event.label.name }}"
          branch_name="${label#auto-create-}"
          echo "Text after 'auto-create-': $branch_name"